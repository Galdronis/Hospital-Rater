(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{73:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n,c,r,s=a(1),i=a.n(s),o=a(63),l=a.n(o),j=(a(73),a(86)),d=a(88),b=a(85),u=a(89),m=a(8),h=a(15),O=a(12),p=a(28),x=a(9),f=a(23),g=a(82),v=a(40),w=a(87),y=Object(w.a)(n||(n=Object(v.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      profile {\n        _id\n        name\n      }\n    }\n  }\n"]))),N=Object(w.a)(c||(c=Object(v.a)(["\n  mutation addProfile($name: String!, $email: String!, $password: String!) {\n    addProfile(name: $name, email: $email, password: $password) {\n      token\n      profile {\n        _id\n        name\n      }\n    }\n  }\n"]))),k=a(25),S=a(26),Y=a(55),$=new(function(){function e(){Object(k.a)(this,e)}return Object(S.a)(e,[{key:"getProfile",value:function(){return Object(Y.a)(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!(!e||this.isTokenExpired(e))}},{key:"isTokenExpired",value:function(e){return Object(Y.a)(e).exp<Date.now()/1e3&&(localStorage.removeItem("id_token"),!0)}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.reload()}}]),e}()),T=a(3),C=function(e){var t=Object(s.useState)({email:"",password:""}),a=Object(x.a)(t,2),n=a[0],c=a[1],r=Object(g.a)(y),i=Object(x.a)(r,2),o=i[0],l=i[1],j=l.error,d=l.data,b=function(e){var t=e.target,a=t.name,r=t.value;c(Object(p.a)(Object(p.a)({},n),{},Object(O.a)({},a,r)))},u=function(){var e=Object(h.a)(Object(m.a)().mark((function e(t){var a,r;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(n),e.prev=2,e.next=5,o({variables:Object(p.a)({},n)});case 5:a=e.sent,r=a.data,$.login(r.login.token),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:c({email:"",password:""});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsx)("main",{className:"flex-row justify-center mb-4",children:Object(T.jsx)("div",{className:"col-12 col-lg-10",children:Object(T.jsxs)("div",{className:"card",children:[Object(T.jsx)("h4",{className:"card-header bg-dark text-light p-2",children:"Login"}),Object(T.jsxs)("div",{className:"card-body",children:[d?Object(T.jsxs)("p",{children:["Success! You may now head"," ",Object(T.jsx)(f.b,{to:"/feed",children:"straight to the feed!"})]}):Object(T.jsxs)("form",{onSubmit:u,children:[Object(T.jsx)("input",{className:"form-input",placeholder:"Your email",name:"email",type:"email",value:n.email,onChange:b}),Object(T.jsx)("input",{className:"form-input",placeholder:"******",name:"password",type:"password",value:n.password,onChange:b}),Object(T.jsx)("button",{className:"btn btn-block btn-info",style:{cursor:"pointer"},type:"submit",children:"Submit"})]}),j&&Object(T.jsx)("div",{className:"my-3 p-3 bg-danger text-white",children:j.message})]})]})})})},_=Object(w.a)(r||(r=Object(v.a)(["\n  query getThoughts {\n    thoughts {\n      _id\n      thoughtText\n      thoughtAuthor\n      createdAt\n    }\n  }\n"]))),H=function(){var e=Object(u.a)(_),t=(e.loading,e.data);null===t||void 0===t||t.thoughts;return Object(T.jsx)("main",{children:Object(T.jsx)("div",{className:"flex-row justify-center",children:Object(T.jsx)("div",{className:"col-12 col-md-10 mb-3 p-3",style:{border:"1px dotted #1a1a1a"},children:Object(T.jsx)(C,{})})})})},I=function(){return Object(T.jsx)("div",{children:Object(T.jsx)("p",{children:"Welcome to Rate Your Boss! As a travelling nurse, it can be difficult to tell when a contract you're offered is too good to be true, and more often than not it seems to turn out too good to be true! Here on Rate Your Boss, you can see the reviews of hospitals of all kind, reviews made entirely by travelling nurses like yourself! Every hospital has a short list of ratings so that you can make sure that whatever hospital you look for is perfect for what YOU need. Sign up and start reviewing today!"})})},P=function(){return Object(T.jsx)("main",{children:Object(T.jsx)(I,{})})},E=function(){var e=Object(s.useState)({firstName:"",lastName:"",email:"",password:"",rnNumber:""}),t=Object(x.a)(e,2),a=t[0],n=t[1],c=Object(g.a)(N),r=Object(x.a)(c,2),i=r[0],o=r[1],l=o.error,j=o.data,d=function(e){var t=e.target,c=t.name,r=t.value;n(Object(p.a)(Object(p.a)({},a),{},Object(O.a)({},c,r)))},b=function(){var e=Object(h.a)(Object(m.a)().mark((function e(t){var n,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,i({variables:Object(p.a)({},a)});case 4:n=e.sent,c=n.data,$.login(c.addProfile.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsx)("main",{className:"flex-row justify-center mb-4",children:Object(T.jsx)("div",{className:"col-12 col-lg-10",children:Object(T.jsxs)("div",{className:"card",children:[Object(T.jsx)("h4",{className:"card-header bg-dark text-light p-2",children:"Sign Up"}),Object(T.jsxs)("div",{className:"card-body",children:[j?Object(T.jsxs)("p",{children:["Success! You may now head"," ",Object(T.jsx)(f.b,{to:"/",children:"back to the homepage."})]}):Object(T.jsxs)("form",{onSubmit:b,children:[Object(T.jsx)("input",{className:"form-input",placeholder:"Your username",name:"firstName",type:"text",value:a.firstName,onChange:d}),Object(T.jsx)("input",{className:"form-input",placeholder:"Your username",name:"lastName",type:"text",value:a.lastName,onChange:d}),Object(T.jsx)("input",{className:"form-input",placeholder:"Your email",name:"email",type:"email",value:a.email,onChange:d}),Object(T.jsx)("input",{className:"form-input",placeholder:"******",name:"password",type:"password",value:a.password,onChange:d}),Object(T.jsx)("input",{className:"form-input",placeholder:"Your RN Number",name:"rnNumber",type:"text",value:a.rnNumber,onChange:d}),Object(T.jsx)("button",{className:"btn btn-block btn-info",style:{cursor:"pointer"},type:"submit",children:"Submit"})]}),l&&Object(T.jsx)("div",{className:"my-3 p-3 bg-danger text-white",children:l.message})]})]})})})},R=function(){var e=Object(u.a)(_),t=(e.loading,e.data);null===t||void 0===t||t.thoughts;return Object(T.jsx)("main",{children:Object(T.jsx)("div",{className:"flex-row justify-center",children:Object(T.jsx)("div",{className:"col-12 col-md-10 mb-3 p-3",style:{border:"1px dotted #1a1a1a"},children:Object(T.jsx)(E,{})})})})},A=function(){return Object(T.jsx)("header",{className:"bg-primary text-light mb-4 py-3 flex-row align-center",children:Object(T.jsxs)("div",{className:"container flex-row justify-space-between-lg justify-center align-center",children:[Object(T.jsx)("h1",{className:"m-0",children:"HomePage"}),Object(T.jsx)(f.b,{to:"/",children:Object(T.jsx)("button",{children:"Homepage"})}),Object(T.jsx)(f.b,{to:"/login",children:Object(T.jsx)("button",{children:"HelloTest"})}),Object(T.jsx)(f.b,{to:"/signup",children:Object(T.jsx)("button",{children:"Sign Up"})}),Object(T.jsx)(f.b,{to:"/feed",children:Object(T.jsx)("button",{children:"View Hospitals"})})]})})},B=function(){return Object(T.jsx)("footer",{className:"w-100 mt-auto bg-secondary p-4",children:Object(T.jsx)("div",{className:"container text-center mb-5",children:Object(T.jsxs)("h4",{children:["Made with"," ",Object(T.jsx)("span",{className:"emoji",role:"img","aria-label":"heart","aria-hidden":"false",children:"\u2764\ufe0f"})," ","by the Receding Hairlines team."]})})})},D=function(){return Object(T.jsx)("div",{children:Object(T.jsx)("p",{children:"This is where the feed will go! Cry about it!"})})},U=a(6),q=new j.a({uri:"/graphql",cache:new d.a});var J=function(){return Object(T.jsx)(b.a,{client:q,children:Object(T.jsx)(f.a,{children:Object(T.jsxs)("div",{className:"flex-column justify-flex-start min-100-vh",children:[Object(T.jsx)(A,{}),Object(T.jsx)("div",{className:"container",children:Object(T.jsxs)(U.c,{children:[Object(T.jsx)(U.a,{path:"/",element:Object(T.jsx)(P,{})}),Object(T.jsx)(U.a,{path:"/login",element:Object(T.jsx)(H,{})}),Object(T.jsx)(U.a,{path:"/signup",element:Object(T.jsx)(R,{})}),Object(T.jsx)(U.a,{path:"/feed",element:Object(T.jsx)(D,{})})]})}),Object(T.jsx)(B,{})]})})})};l.a.render(Object(T.jsx)(i.a.StrictMode,{children:Object(T.jsx)(J,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.74badd9c.chunk.js.map